{"version":3,"sources":["services/persons.js","services/Notification.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","id","url","concat","delete","newObject","post","put","Notification","_ref","message","react_default","a","createElement","className","type","content","Person","user","remove","name","number","onClick","PersonForm","_ref2","handlePersonChange","handleNumberChange","addUser","onSubmit","value","onChange","FilterForm","_ref3","filter","handleFilter","text","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","notification","setNotification","useEffect","personService","result","personsFiltered","p","toLowerCase","includes","services_Notification","App_FilterForm","event","target","App_PersonForm","preventDefault","userObject","exists","find","n","changed","objectSpread","undefined","setTimeout","window","confirm","map","person","catch","error","console","log","u","App_Person","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.65eb638a.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl,newObject)\r\n    return request.then(response=> response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const url = `${baseUrl}/${id}`\r\n  const request = axios.delete(url)\r\n  return request.then(response => response.data)\r\n}\r\nconst update = (id, newObject) =>{\r\n  const url = `${baseUrl}/${id}`\r\n  const request = axios.put(url,newObject)\r\n  return request.then(response => response.data)\r\n  \r\n}\r\n\r\nexport default {getAll,remove,create,update}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={message.type}>\r\n            {message.content}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, {useState, useEffect} from 'react'\nimport personService from './services/persons'\nimport Notification from './services/Notification'\nimport './app.css'\n\nconst App = () => {\n  \n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState ('')\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState('')\n \n  useEffect(()=>{\n    personService.getAll()\n    .then(result=>{\n      setPersons(result) \n    })  \n  },[])\n  \n  const addUser = (event) => {\n    event.preventDefault()\n    const userObject = { name: newName, number:newNumber, }\n    const exists = persons.find(n=>n.name===newName)\n    const changed = { ...exists, number: newNumber }\n    //console.log('exists', exists)\n    //console.log('changed', changed)\n    if(exists===undefined){\n      personService\n        .create( userObject)\n        .then(result => {\n          setPersons(persons.concat(result))\n          setNotification({\n            content: `${userObject.name} successfully Created`,\n            type: 'notification'\n        })\n          setNewName('')\n          setNewNumber('')\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n        \n    }else{\n      window.confirm(`${newName}is already added to phonebook, replace the old number with a new one?`)\n        ? personService\n          .update(exists.id,changed)\n          .then(response => {\n            setPersons(persons.map(person => person.id !== exists.id ? person : response))  \n            setNotification({\n              content: `${userObject.name} Successfully Updated`,\n              type: 'notification'\n            })\n            setNewName('')  \n            setNewNumber('')\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setNotification({\n                content: `information of ${userObject.name} has already been removed from server`,\n                type: 'error'\n            })\n            setTimeout(() => {\n                setNotification(null)\n            }, 5000)\n        })\n        :console.log('Cancle')       \n    }}\n  \n  const remove = person => {\n    window.confirm(`Delete ${person.name}?`)\n      ? personService\n          .remove(person.id)\n          .then(response => {\n            setPersons(persons.filter(p => person.id !== p.id)) \n            setNotification({\n              content:` Successfully Remove`,\n              type: 'notification'\n            })\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setNotification({\n                content: `information of ${person.name} has already been removed from server`,\n                type: 'error'\n            })\n            setTimeout(() => {\n                setNotification(null)\n            }, 5000)\n          })         \n      : console.log('cancle')\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)}\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)}\n\n  const handleFilter = (event) =>{\n    setFilter(event.target.value)}\n  \n  const rows = () => personsFiltered.map(u => <Person  key={u.name}user={u}  remove={()=>remove(u)}/> )\n\n  const personsFiltered = persons.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notification} />\n      <ul>\n      <FilterForm filter ={filter} handleFilter ={handleFilter} text='Filter shown with'/>\n      </ul>\n      <h1>Add a new</h1>\n      <PersonForm  name ={newName} handlePersonChange={handlePersonChange} number = {newNumber}\n       handleNumberChange ={handleNumberChange} addUser ={addUser}/>\n      <h1>Numbers</h1>\n      {rows()}\n    </div>\n  )}\n\n  const Person = ({ user,remove }) => {\n    return (  \n      <div>\n        <br />\n          <li className='person'>\n            {user.name}:\n            {user.number}\n            <button type=\"button\" onClick={remove}>remove</button>\n          </li>\n      </div>\n    )\n  }\n\n  const PersonForm  = ({name,handlePersonChange,number,handleNumberChange,addUser})=>{\n    return(\n      <form  onSubmit={addUser}>\n        <div>\n          name: <input  value ={name} onChange ={handlePersonChange}/><br></br>\n          number: <input  value={number} onChange={handleNumberChange}/>\n        </div>\n        <div>\n        <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n  }\n\n  const FilterForm=({filter,handleFilter,text})=>{\n    return(\n      <form>\n        {text} <input value={filter} onChange ={handleFilter}/>\n      </form>\n    )\n  }  \n \nexport default App ","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'  // highlight-line\nimport './index.css'\n\n\n\n\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)"],"sourceRoot":""}